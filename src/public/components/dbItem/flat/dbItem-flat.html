<div class="flip-container db-item-flat-container" data-ng-click="vm.flip($event)" data-ng-keypress="vm.flip($event)">
    <div class="flipper x-axis" data-ng-class="{flip: vm.isFlipped}">
        <div class="front">
            <div class="db-item-flat flex-container-row flex-auto flex-align-items-center">
                <div class="db-item-flat-caption-image" back-img="{{vm.image}}">
                </div>

                <div class="flex-container-column flex-justify-content-start flex-auto">
                    <h4 class="db-item-flat-caption-text no-gutter text-nowrap">
                        <strong>{{vm.item.name}}</strong>
                    </h4>
                </div>

                <div class="db-item-flat-price-area flex-container-row flex-align-self-stretch flex-align-items-center">
                    <h6 class="db-item-flat-quantity no-gutter text-muted text-nowrap">
                        <span class="glyphicon glyphicon-tint"></span>{{vm.item.quantity}}&nbsp;{{vm.item.quantityUnit}}
                    </h6>

                    <div class="db-item-flat-price-area-separator flex-align-self-stretch"></div>

                    <h6 flash="vm.item.tick.timestamp"
                        class="no-gutter text-nowrap flex-1 text-center"
                        data-ng-class="{'text-danger' : vm.item.tick.delta > 0,
                                       'text-success': vm.item.tick.delta <= 0}">
                        <small>
                                <span class="glyphicon"
                                      data-ng-class="{'text-danger glyphicon-triangle-top' : vm.item.tick.delta > 0,
                                                 'text-success glyphicon-triangle-bottom': vm.item.tick.delta <= 0}">
                                </span>
                        </small>
                        {{vm.item.tick.delta | currency:"":2}}
                    </h6>

                    <div class="db-item-flat-price-area-separator flex-align-self-stretch"></div>

                    <h6 flash="vm.item.price" class="text-primary no-gutter flex-1 text-nowrap text-right">
                        <strong data-ng-show="vm.item.price % 1 > 0">{{vm.item.price | currency:"":2}}</strong>
                        <strong data-ng-hide="vm.item.price % 1 > 0">{{vm.item.price | currency:"":2}}</strong>
                    </h6>
                </div>
            </div>
        </div>

        <div class="back">
            <div class="db-item-flat flex-container-row flex-auto flex-align-items-center">
                <div class="db-item-flat-caption-image" back-img="{{vm.image}}">
                </div>

                <div class="flex-container-column flex-justify-content-start flex-auto">
                    <h4 class="db-item-flat-caption-text no-gutter text-nowrap">
                        <strong>{{vm.item.name}}</strong>
                    </h4>

                    <div data-ng-show="vm.isFlipped && vm.canAddToBasket" class="input-group input-group-xs"
                         style="width: 100px">
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default" data-ng-click="vm.increment()" stop-event>
                            <span class="glyphicon glyphicon-triangle-top"></span>
                        </button>
                    </span>
                        <input data-ng-model="vm.number" type="text" maxlength="2" class="form-control text-center"
                               readonly stop-event>
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default" data-ng-click="vm.decrement()" stop-event>
                            <span class="glyphicon glyphicon-triangle-bottom"></span>
                        </button>
                    </span>
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-primary" data-ng-click="vm.addToBasket($event)" stop-event>
                            <span class="glyphicon glyphicon-shopping-cart"></span>
                        </button>
                    </span>
                    </div>
                </div>

                <div class="db-item-flat-price-area flex-container-row flex-align-self-stretch flex-align-items-center">
                    <h6 class="db-item-flat-quantity no-gutter text-muted text-nowrap">
                        <span class="glyphicon glyphicon-tint"></span>
                        {{vm.item.quantity}}&nbsp;{{vm.item.quantityUnit}}
                    </h6>

                    <div class="db-item-flat-price-area-separator flex-align-self-stretch"></div>

                    <h6 flash="vm.item.tick.timestamp"
                        class="no-gutter text-nowrap flex-1 text-center"
                        data-ng-class="{'text-danger' : vm.item.tick.delta > 0,
                                       'text-success': vm.item.tick.delta <= 0}">
                        <small>
                                <span class="glyphicon"
                                      data-ng-class="{'text-danger glyphicon-triangle-top' : vm.item.tick.delta > 0,
                                                 'text-success glyphicon-triangle-bottom': vm.item.tick.delta <= 0}">
                                </span>
                        </small>
                        {{vm.item.tick.delta | currency:"":2}}
                    </h6>

                    <div class="db-item-flat-price-area-separator flex-align-self-stretch">
                    </div>

                    <h6 flash="vm.item.price" class="text-primary no-gutter flex-1 text-nowrap text-right">
                        <strong data-ng-show="vm.item.price % 1 > 0">{{vm.item.price | currency:"":2}}</strong>
                        <strong data-ng-hide="vm.item.price % 1 > 0">{{vm.item.price | currency:"":2}}</strong>
                    </h6>
                </div>
            </div>
        </div>
    </div>
</div>